{% extends 'base.html' %}{% load staticfiles %}{% load bootstrap3 %}
{% block title %}{{ exam.name }}{% endblock %}
{% block breadcrumb %}

					<div class="breadcrumb-line">
						<ul class="breadcrumb">
							<li><a href="index.html"><i class="icon-home2 position-left"></i> Fudul</a></li>
							<li class="active">Institutions</li>
						</ul>
					</div>
{% endblock %}
{% block content %}

<style>
.panel-body a {
    color: white;
    font-size: medium;
    font-weight: bold;
    margin-top: auto
}
</style>
    <div class="panel panel-flat">
						<div class="panel-heading">
							<h5 class="panel-title">Adding Question Form<a class="heading-elements-toggle"><i class="icon-more"></i></a></h5>
							<div class="heading-elements">
								<ul class="icons-list">
			                		<li><a data-action="collapse"></a></li>
			                		<li><a data-action="reload"></a></li>
			                		<li><a data-action="close"></a></li>
			                	</ul>
		                	</div>
						</div>
        <div class="panel-body">
        {% bootstrap_form_errors questionform %}
        <form method="post">
	    {% csrf_token %}
            <label class="control-label col-lg-2">Question Source</label>
            <div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field questionform.source show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
        <label class="control-label col-lg-2">Question Subject</label>
        <div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field questionform.subject show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
            <label class="control-label col-lg-2">Question Figure</label>
        		<div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field questionform.figure show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
            <label class="control-label col-lg-2">Question Type</label>
		<div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field questionform.exam_type show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
        <label class="control-label col-lg-2">Question Status</label>
        <div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field questionform.status show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
            <label class="control-label col-lg-2">Question Text</label>
        {% bootstrap_form_errors revisionform %}
        		<div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field revisionform.text show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
            <label class="control-label col-lg-2">Answer Exlaination</label>
        {% bootstrap_form_errors revisionform %}
        		<div class="form-group has-feedback has-feedback-left">
			{% bootstrap_field revisionform.explanation show_label=False %}
			<div class="form-control-feedback">
				<i class="icon-user-check text-muted"></i>
			</div>
		</div>
                      <label class="control-label col-lg-2">Question Choices</label>
                        {{ revisionchoiceformset.management_form }}
                        {{ revisionchoiceformset.non_form_errors.as_ul }}
                        <table id="choice_formset" class="form" style="width: 100%;">

                        {% for form in revisionchoiceformset.forms %}
                          {% if forloop.first %}
                            <colgroup>
                                <col class="col-xs-8">
                                <col class="col-xs-4">
                            </colgroup>
                          {% endif %}
                          <tr class="form-container">
                          {% for field in form.visible_fields %}
                            <td>
                            {% if forloop.first %}
                              {% for hidden in form.hidden_fields %}
                              {{ hidden }}
                              {% endfor %}
                            {% endif %}
                                <div class="form-group">
                              {{ field.errors.as_ul }}
                              {{ field }}
                                </div>
                            </td>
                          {% endfor %}
                          </tr>
                        {% endfor %}
                        </table>

               <button type="submit" class="btn bg-teal btn-block btn-lg">Add Question <i class="icon-circle-right2 position-right"></i></button>

        </form>
        </div>


{#           <form method="post" role="form" id="form_register" enctype="multipart/form-data">#}
{#				{% csrf_token %}#}
{#               #}
{#               <div class="panel-body">#}
{#							<form class="form-horizontal" action="#">#}
{#								<fieldset class="content-group">#}
{#									<legend class="text-bold">Question Information</legend>#}
{#									<div class="form-group">#}
{#										<label class="control-label col-lg-2">Question Source</label>#}
{#										<div class="col-lg-10">#}
{#                                            <div class="input-group{% if questionform.source.errors %} validate-has-error {% endif %}">#}
{#				                            <select multiple="multiple" class="form-control"{% if questionform.source.value and not questionform.source.errors %}value="{{ questionform.source.value }}" {% endif %} id="question-source-list" title="{{questionform.source.label }}" multiple="multiple" required="required">#}
{#                                                    {% for source in questionform.source %}#}
{#                                                    <option value="{{ source.name }}">{{ source.name }}</option>#}
{#                                                    {% endfor %}#}
{#				                            </select>#}
{#                                            </div>#}
{#										</div>#}
{#									</div>#}
{##}
{#			                        <div class="form-group">#}
{#			                        	<label class="control-label col-lg-2">Question Type</label>#}
{#			                        	<div class="col-lg-10">#}
{#                                            <div class="input-group{% if questionform.exam_type.errors %} validate-has-error {% endif %}">#}
{##}
{#				                            <select name="select" class="form-control" {% if questionform.exam_type.value and not questionform.exam_type.errors %}value="{{ questionform.exam_type.value }}" {% endif %} id="question-exam-type-list" title="{{questionform.exam_type.label }}" required="required">#}
{#                                                {% for type in questionform.exam_type %}#}
{#                                                    <option value="{{ type }}">{{ type }}</option>#}
{#                                                {% endfor %}#}
{#				                            </select>#}
{#                                            </div>#}
{#			                            </div>#}
{#			                        </div>#}
{##}
{#									<legend class="text-bold">Question Details</legend>#}
{##}
{#									<div class="form-group">#}
{#										<label class="control-label col-lg-2">Quistion Figure</label>#}
{#										<div class="col-lg-10">#}
{#                                         <div class="input-group{% if questionform.figure.errors %} validate-has-error {% endif %}">#}
{#											<input class="form-control"{% if questionform.exam_type.value and not questionform.exam_type.errors %}value="{{ questionform.exam_type.value }}" {% endif %} id="question-exam-type-list" title="{{questionform.exam_type.label }}" required="required"type="file">#}
{#                                         </div>#}
{#										</div>#}
{#									</div>#}
{#			                        	<label class="control-label col-lg-2">Question Status</label>#}
{#			                        	<div class="col-lg-10">#}
{#                                            <div class="input-group{% if questionform.status.errors %} validate-has-error {% endif %}">#}
{##}
{#				                            <select name="select" class="form-control" {% if questionform.status.value and not questionform.status.errors %}value="{{ questionform.status.value }}" {% endif %} id="question-status-list" title="{{questionform.status.label }}" required="required">#}
{#                                                <option value="C">H</option>#}
{##}
{#                                                {% for status in questionform.status %}#}
{#                                                    <option value="{{ status }}">{{ status.get_disply }}</option>#}
{#                                                {% endfor %}#}
{#				                            </select>#}
{#                                            </div>#}
{#			                            </div>#}
{#                                                 revision text #}
{#                                            <label class="control-label col-lg-2">Question Text</label>#}
{#                                            <div class="input-group{% if revisionform.text.errors %} validate-has-error{% endif %}">#}
{##}
{#                                                <textarea {% if revisionform.text.value and not revisionform.text.errors %}value="{{ revisionform.text.value }}" {% endif %}type="text" class="form-control english-field" name="revision-text" id="revision-text" placeholder="Question text" required="required"></textarea>#}
{#                                                {% if revisionform.text.errors %}#}
{#                                                    {% for error in revisionform.text.errors %}#}
{#                                                        <label class='error' for='text' style='display: inline-block'>{{ error|escape }}</label>#}
{#                                                    {% endfor %}#}
{#                                                {% endif %}#}
{#                                                 revision explaination #}
{#                                            <label class="control-label col-lg-2">Question Explnaition</label>#}
{#                                            <div class="input-group{% if revisionform.explanation.errors %} validate-has-error{% endif %}">#}
{##}
{#                                                <textarea {% if revisionform.explanation.value and not revisionform.explanation.errors %}value="{{ revisionform.explanation.value }}" {% endif %}type="text" class="form-control english-field" name="revision-explanation" id="revision-explanation" placeholder="Question explanation" required="required"></textarea>#}
{#                                                {% if revisionform.explanation.errors %}#}
{#                                                    {% for error in revisionform.explanation.errors %}#}
{#                                                        <label class='error' for='text' style='display: inline-block'>{{ error|escape }}</label>#}
{#                                                    {% endfor %}#}
{#                                                {% endif %}                                        <div class="form-group">#}
{##}
 {# -------- #}
                        {# Following snippet (slightly modified) from #}
{#                      <label class="control-label col-lg-2">Question Choices</label>#}
{#                         {{ revisionchoiceformset.management_form }}#}
{#                        {{ revisionchoiceformset.non_form_errors.as_ul }}#}
{##}
{#                        <table id="choice_formset" class="form" style="width: 100%;">#}
{##}
{#                        {% for form in revisionchoiceformset.forms %}#}
{#                          {% if forloop.first %}#}
{#                            <colgroup>#}
{#                                <col class="col-xs-8">#}
{#                                <col class="col-xs-4">#}
{#                            </colgroup>#}
{#                          {% endif %}#}
{#                          <tr class="form-container">#}
{#                          {% for field in form.visible_fields %}#}
{#                            <td>#}
                            {# Include the hidden fields in the form #}
{#                            {% if forloop.first %}#}
{#                              {% for hidden in form.hidden_fields %}#}
{#                              {{ hidden }}#}
{#                              {% endfor %}#}
{#                            {% endif %}#}
{#                                <div class="form-group">#}
{#                              {{ field.errors.as_ul }}#}
{#                              {{ field }}#}
{#                                </div>#}
{#                            </td>#}
{#                          {% endfor %}#}
{#                          </tr>#}
{#                        {% endfor %}#}
{#                        </table>#}
{#                                            		<div class="form-group">#}
{#				<button  type="submit" class="btn btn-success btn-block btn-login">#}
{#					<i class="entypo-right-open-mini"></i>#}
{#					Submit#}
{#				</button>#}
{#</div>#}
{#                                            </div>#}
{#                                            </div>#}
{#                                            </form>#}
{##}
{#                        </div>#}
{#           </form>#}
    </div>

{% endblock %}
{% block customscript %}
    <script src="{% static 'js/jquery.formset.js' %}"></script>
    <script src="{% static 'js/jquery.autogrowtextarea.min.js' %}"></script>
    <script type="text/javascript">
    $(function(){

        $("textarea").autoGrow();
        // add formset controls
        $("#choice_formset .form-container").formset({
            prefix: '{{ choice_formset.prefix }}',
            addText: 'Add a Choice',
            deleteText: 'Delete',
            addCssClass: 'add-row btn btn-xs btn-primary',
            deleteCssClass: 'delete-row btn btn-xs btn-danger',
        });
        });
    </script>

{% endblock %}